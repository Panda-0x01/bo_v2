<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Monitoring Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Poppins", sans-serif;
      background-color: #fbf7f5;
      display: flex;
    }

    /* üåê Sidebar */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      height: 100vh;
      background: #fbf7f5;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 10px;
      border-radius: 0 20px 20px 0;
      border: 1px solid rgba(203, 203, 203, 0.564);
    }

    nav .logo {
      font-size: 22px;
      font-weight: 700;
      color: #333;
      margin-bottom: 40px;
    }

    nav ul {
      list-style: none;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 20px;
      padding: 0;
    }

    nav ul li a {
      display: block;
      text-decoration: none;
      color: #333;
      font-weight: 500;
      padding: 10px 20px;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    nav ul li a:hover,
    nav ul li a.active {
      background: #7c7878;
      color: white;
    }

    /* üìä Dashboard Layout */
    .container {
      margin-left: 240px;
      padding: 30px 40px;
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      background-color: #fbf7f5;
    }

    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 25px;
      background-color: #f9f1f1;
      border: 1px solid rgba(203, 203, 203, 0.564);
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .main h1 {
      font-size: 26px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    /* Cards Layout */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 20px;
    }

    .card {
      background: #fff;
      border: 1px solid rgba(203, 203, 203, 0.564);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
      transition: transform 0.2s ease;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h3 {
      font-size: 15px;
      color: #7c7878;
      margin-bottom: 8px;
      font-weight: 500;
    }

    .card strong {
      font-size: 22px;
      color: #333;
      font-weight: 600;
    }

    /* Buttons */
    button {
      background-color: #7c7878;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 18px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    button:hover {
      opacity: 0.85;
    }

    /* Chart Container */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 20px;
    }

    .chart-container {
      background: #fff;
      border: 1px solid rgba(203, 203, 203, 0.564);
      border-radius: 16px;
      padding: 20px;
    }

    .chart-container h3 {
      margin-bottom: 10px;
      font-size: 17px;
      color: #333;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <!-- Sidebar -->
  <nav>
    <div class="logo">üë¶üèª API Monitor</div>
    <ul>
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="#">AI Model</a></li>
      <li><a href="charts.html">Analysis</a></li>
    </ul>
  </nav>

  <!-- Dashboard -->
  <div class="container">
    <div class="main">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h1>Dashboard Overview</h1>
        <button onclick="refreshData()">‚Üª Refresh</button>
      </div>

      <!-- Stats -->
      <div class="dashboard-grid">
        <div class="card"><h3>Total APIs Monitored</h3><strong id="totalAPIs">24</strong></div>
        <div class="card"><h3>Average Response Time</h3><strong id="avgResponse">212 ms</strong></div>
        <div class="card"><h3>Uptime Percentage</h3><strong id="uptime">99.8%</strong></div>
        <div class="card"><h3>Total Requests</h3><strong id="totalRequests">12,430</strong></div>
        <div class="card"><h3>Errors (4xx / 5xx)</h3><strong id="errors">23</strong></div>
      </div>

      <!-- Charts -->
      <div class="charts-grid">
        <div class="chart-container">
          <h3>API Health</h3>
          <canvas id="apiHealthChart" height="120"></canvas>
        </div>

        <div class="chart-container">
          <h3>Active vs Inactive APIs</h3>
          <canvas id="apiActiveChart" height="120"></canvas>
        </div>

        <div class="chart-container">
          <h3>Error Distribution</h3>
          <canvas id="errorChart" height="120"></canvas>
        </div>

        <div class="chart-container">
          <h3>Compliance / Performance</h3>
          <canvas id="complianceChart" height="120"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- üìà Charts Logic -->
  <script>
    // 1Ô∏è‚É£ API Health Chart
    const ctx1 = document.getElementById('apiHealthChart').getContext('2d');
    const apiHealthChart = new Chart(ctx1, {
      type: 'bar',
      data: {
        labels: ['API 1', 'API 2', 'API 3', 'API 4', 'API 5'],
        datasets: [{
          label: 'Health (%)',
          data: [98, 96, 92, 99, 97],
          backgroundColor: ['#A3C9A8', '#6CA965', '#F4A261', '#7c7878', '#87CEEB'],
          borderRadius: 8
        }]
      },
      options: { responsive: true, scales: { y: { beginAtZero: true, max: 100 }}, plugins: { legend: { display: false } } }
    });

    // 2Ô∏è‚É£ Active vs Inactive APIs
    const ctx2 = document.getElementById('apiActiveChart').getContext('2d');
    const apiActiveChart = new Chart(ctx2, {
      type: 'doughnut',
      data: {
        labels: ['Active', 'Inactive'],
        datasets: [{
          data: [20, 4],
          backgroundColor: ['#6CA965', '#F4A261'],
          borderWidth: 1
        }]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    // 3Ô∏è‚É£ Error Distribution
    const ctx3 = document.getElementById('errorChart').getContext('2d');
    const errorChart = new Chart(ctx3, {
      type: 'pie',
      data: {
        labels: ['4xx Errors', '5xx Errors'],
        datasets: [{
          data: [15, 8],
          backgroundColor: ['#F4A261', '#E76F51']
        }]
      },
      options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    // 4Ô∏è‚É£ Compliance / Performance Chart
    const ctx4 = document.getElementById('complianceChart').getContext('2d');
    const complianceChart = new Chart(ctx4, {
      type: 'line',
      data: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        datasets: [{
          label: 'Compliance (%)',
          data: [98, 97, 95, 99, 96, 97, 98],
          borderColor: '#7c7878',
          backgroundColor: 'rgba(124,120,120,0.2)',
          tension: 0.4,
          fill: true,
          borderWidth: 2
        }]
      },
      options: { responsive: true, scales: { y: { beginAtZero: false, max: 100 } } }
    });

    // üîÅ Refresh Simulation
    function refreshData() {
      const random = () => Math.floor(Math.random() * 10) + 90;
      apiHealthChart.data.datasets[0].data = [random(), random(), random(), random(), random()];
      apiHealthChart.update();

      apiActiveChart.data.datasets[0].data = [Math.floor(Math.random() * 30) + 10, Math.floor(Math.random() * 10)];
      apiActiveChart.update();

      errorChart.data.datasets[0].data = [Math.floor(Math.random() * 30), Math.floor(Math.random() * 15)];
      errorChart.update();

      complianceChart.data.datasets[0].data = Array(7).fill().map(() => random());
      complianceChart.update();

      // Stats
      document.getElementById("avgResponse").innerText = `${Math.floor(Math.random() * 300) + 150} ms`;
      document.getElementById("uptime").innerText = `${(Math.random() * 0.2 + 99.6).toFixed(2)}%`;
      document.getElementById("errors").innerText = Math.floor(Math.random() * 50);
      document.getElementById("totalRequests").innerText = (12000 + Math.floor(Math.random() * 500)).toLocaleString();
    }
  </script>
</body>
</html>
